<div class="modal-md">
  <form [formGroup]="musicForm">
    <mat-card>
      <mat-card-header>
        <mat-card-title>
          <h3>{{modalTitle}}</h3>
        </mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <div class="form-field">
          <mat-form-field appearance="fill">
            <mat-label>Interprete</mat-label>
            <input matInput formControlName="artists">
            <mat-error *ngIf="musicForm.get('artists')?.invalid">Nombre del intérprete es requerido.</mat-error>
          </mat-form-field>
        </div>
        <div class="form-field">
          <mat-form-field appearance="fill">
            <mat-label>Título</mat-label>
            <input matInput formControlName="title">
            <mat-error *ngIf="musicForm.get('title')?.invalid">Nombre del título es requerido.</mat-error>
          </mat-form-field>
        </div>
        <div class="form-field">
          <mat-form-field appearance="fill">
            <mat-label>Álbum</mat-label>
            <input matInput formControlName="album">
            <mat-error *ngIf="musicForm.get('album')?.invalid">Nombre del álbum es requerido.</mat-error>
          </mat-form-field>
        </div>
        <div class="form-field">
          <mat-form-field appearance="fill">
            <mat-label>Lanzamiento</mat-label>
            <input matInput [matDatepicker]="picker" formControlName="releaseDate">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
            <mat-error *ngIf="musicForm.get('releaseDate')?.invalid">Fecha de lanzamiento es requerida.</mat-error>
          </mat-form-field>
        </div>
        <div class="form-field">
          <mat-form-field appearance="fill">
            <mat-label>Portada</mat-label>
            <input matInput formControlName="cover" [style.visibility]="hiddenInput ? 'hidden' : 'visible'">
            <mat-icon matSuffix>attach_file</mat-icon>
            <input type="file" (change)="imageSelected($event)" accept="image/jpeg, image/png"
              formControlName="cover">
            <img *ngIf="musicForm.get('cover')?.value?.base64String" [src]="musicForm.get('cover')?.value.base64String"
              width="100" height="100">
            <mat-error *ngIf="musicForm.get('cover')?.invalid && musicForm.get('cover')?.touched">Cargar una portada
              para el álbum.</mat-error>
          </mat-form-field>
        </div>
      </mat-card-content>
      <mat-divider></mat-divider>
      <mat-card-actions>
        <button class="mx-2" color="primary" mat-flat-button [disabled]="musicForm.invalid"
          (click)="saveData()">Guardar</button>
        <button class="mx-2" color="warn" mat-flat-button (click)="closeModal()">Cancelar</button>
      </mat-card-actions>
    </mat-card>
  </form>
</div>
